(function(t){function i(i){for(var s,r,a=i[0],h=i[1],l=i[2],u=0,d=[];u<a.length;u++)r=a[u],n[r]&&d.push(n[r][0]),n[r]=0;for(s in h)Object.prototype.hasOwnProperty.call(h,s)&&(t[s]=h[s]);c&&c(i);while(d.length)d.shift()();return o.push.apply(o,l||[]),e()}function e(){for(var t,i=0;i<o.length;i++){for(var e=o[i],s=!0,a=1;a<e.length;a++){var h=e[a];0!==n[h]&&(s=!1)}s&&(o.splice(i--,1),t=r(r.s=e[0]))}return t}var s={},n={app:0},o=[];function r(i){if(s[i])return s[i].exports;var e=s[i]={i:i,l:!1,exports:{}};return t[i].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=t,r.c=s,r.d=function(t,i,e){r.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:e})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,i){if(1&i&&(t=r(t)),8&i)return t;if(4&i&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var s in t)r.d(e,s,function(i){return t[i]}.bind(null,s));return e},r.n=function(t){var i=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(i,"a",i),i},r.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},r.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],h=a.push.bind(a);a.push=i,a=a.slice();for(var l=0;l<a.length;l++)i(a[l]);var c=h;o.push([0,"chunk-vendors"]),e()})({0:function(t,i,e){t.exports=e("56d7")},"034f":function(t,i,e){"use strict";var s=e("64a9"),n=e.n(s);n.a},"05da":function(t,i,e){"use strict";var s=e("9d65"),n=e.n(s);n.a},"163e":function(t,i,e){"use strict";var s=e("ef5f"),n=e.n(s);n.a},1786:function(t,i,e){},"32af":function(t,i,e){},"44d2":function(t,i,e){},"56d7":function(t,i,e){"use strict";e.r(i);e("cadf"),e("551c"),e("f751"),e("097d");var s=e("2b0e"),n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{attrs:{id:"app",onresize:"resizer()"}},[e("div",{attrs:{id:"topContainer"}},[e("div",{staticClass:"btn",on:{click:function(i){t.visible.io=!t.visible.io}}},[t._v("File")]),e("div",{staticClass:"btn",on:{click:function(i){t.visible.control=!t.visible.control,t.center}}},[t._v("Control")]),e("div",{staticClass:"btn",on:{click:t.sizeLeft}},[t._v("Brush")]),e("div",{staticClass:"btn",on:{click:t.sizeRight}},[t._v("Layers")])]),e("FSMouseCap",{directives:[{name:"show",rawName:"v-show",value:!t.visible.control,expression:"!visible.control"}]}),e("FSControl",{directives:[{name:"show",rawName:"v-show",value:t.visible.control,expression:"visible.control"}]}),e("div",{directives:[{name:"show",rawName:"v-show",value:t.visible.brush,expression:"visible.brush"}],ref:"left_menu",staticClass:"menu left"},[e("brush")],1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.visible.layers,expression:"visible.layers"}],ref:"right_menu",staticClass:"menu right",attrs:{id:"layer_menu"}},[e("layer",{on:{changeLayer:t.changeLayer}})],1),e("io",{directives:[{name:"show",rawName:"v-show",value:t.visible.io,expression:"visible.io"}],on:{openFile:t.openFile,saveFile:t.saveFile}}),e("history",{directives:[{name:"show",rawName:"v-show",value:t.visible.io,expression:"visible.io"}]}),e("div",{ref:"can",style:{transform:"translate("+t.translate.x1+"px,"+t.translate.y1+"px) rotate("+t.rotation+"deg) scale("+t.scale+")"},attrs:{id:"canvas-container"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.visible.control,expression:"!visible.control"}]},t._l(t.layers,function(i,s){return e("FSLayer",{directives:[{name:"show",rawName:"v-show",value:!t.visible.control,expression:"!visible.control"}],key:s,ref:"inner_can",refInFor:!0,style:{zIndex:i.zPosition},attrs:{width:t.width,height:t.height,layerObj:i}})}),1),t.layers[t.layers.length-1]?e("img",{directives:[{name:"show",rawName:"v-show",value:t.visible.control,expression:"visible.control"}],attrs:{src:t.layers[t.layers.length-1].data,alt:""}}):t._e()]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.visible.control,expression:"visible.control"}],attrs:{id:"control_center"},on:{click:t.center}},[t._v("center")])],1)},o=[],r=(e("a481"),function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("div",{ref:"capture",attrs:{id:"FSPointer"},on:{pointerdown:t.dnEvt,pointermove:t.mvEvt,pointerup:t.upEvt}}),e("canvas",{ref:"canvas",attrs:{id:"canvas"}})])}),a=[],h=(e("ac6a"),{name:"FSControl",data:function(){return{canvas:null,context:null,mousePos:null,points:[],md:!1,middle:!1,scaler:0,rotOffset:35,scaleBuffer:0,firstAngle:0,secondAngle:0,firstPoint:{x:0,y:0}}},mounted:function(){this.canvas=this.$refs.canvas,this.context=this.canvas.getContext("2d"),this.context.imageSmoothingEnabled=!0,this.sizeCanvas(),window.addEventListener("contextmenu",this.contextEvt),window.addEventListener("resize",this.resizeEvt)},computed:{yDiff:function(){return this.points[1].y-this.points[0].y},xDiff:function(){return this.points[0].x-this.points[1].x},hyp:function(){var t=Math.pow(this.xDiff,2)+Math.pow(this.yDiff,2);return Math.sqrt(t)},soh:function(){return Math.asin(this.yDiff/this.hyp)}},watch:{mousePos:{handler:function(){this.draw()},deep:!0},points:{handler:function(){this.draw()},deep:!0},scaler:function(){this.$eh.$emit("scaler",this.scaler)}},methods:{resizeEvt:function(){this.sizeCanvas()},contextEvt:function(t){t.preventDefault()},scrollEvt:function(t){var i=.01;t.deltaY>0?this.scaler+=1-i/2:this.scaler+=1+i/2},dnEvt:function(t){var i=Math.round(t.clientX),e=Math.round(t.clientY);s["a"].set(this.points,0,{x:i,y:e}),s["a"].set(this.points,1,{x:i,y:e}),2===t.which?(this.middle=!0,this.firstPoint={x:t.clientX,y:t.clientY}):this.md=!0},mvEvt:function(t){var i=Math.round(t.clientX),e=Math.round(t.clientY);this.md?(Math.abs(this.xDiff)<this.rotOffset+this.scaleBuffer&&Math.abs(this.yDiff)<this.rotOffset+this.scaleBuffer?this.points[0].x<this.points[1].x?this.scaler=1-this.hyp/this.rotOffset:this.scaler=1+this.hyp/this.rotOffset:this.scaler=0,s["a"].set(this.points,0,{x:i,y:e})):this.middle?(i=Math.round(t.clientX-this.firstPoint.x),e=Math.round(t.clientY-this.firstPoint.y),s["a"].set(this.points,0,{x:this.firstPoint.x,y:this.firstPoint.y}),this.$eh.$emit("translate",{x:i,y:e})):(this.context.clearRect(0,0,window.innerWidth,window.innerHeight),this.mousePos={x:i,y:e})},upEvt:function(){this.points=[],this.md=!1,this.middle=!1,this.$eh.$emit("set"),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},sizeCanvas:function(){var t=this.canvas,i=window.innerWidth,e=window.innerHeight;t.width=i,t.height=e},draw:function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.md?(this.drawRotation(),this.drawAngles(),this.drawPoints(),this.hyp>this.rotOffset&&this.drawText()):this.drawMouse()},drawMouse:function(){var t=this.context;t.strokeStyle="#000",t.beginPath(),t.arc(this.mousePos.x,this.mousePos.y,20,0,2*Math.PI),t.stroke(),t.closePath()},drawText:function(){var t=this.context,i=0;t.font="12px sans-serif",t.fillText("Y: "+this.yDiff,this.points[0].x+10,this.points[0].y),i=this.points[1].y<this.points[0].y?10:-10,this.points[1].x<this.points[0].x?(t.fillText("X: "+this.xDiff,this.points[0].x+10,this.points[1].y-i),t.beginPath(),t.moveTo(this.points[0].x,this.points[1].y),t.lineTo(this.points[0].x,this.points[1].y-i),t.lineTo(this.points[0].x+5,this.points[1].y-i),t.stroke(),t.closePath()):(t.fillText("X: "+this.xDiff,this.points[0].x-45,this.points[1].y-i),t.beginPath(),t.moveTo(this.points[0].x,this.points[1].y),t.lineTo(this.points[0].x,this.points[1].y-i),t.lineTo(this.points[0].x-5,this.points[1].y-i),t.stroke(),t.closePath())},drawPoints:function(){var t=this.context,i=["#FF0000","#0000FF"];this.points.forEach(function(e,s){t.strokeStyle=i[s],t.beginPath(),t.arc(e.x,e.y,20,0,2*Math.PI),t.stroke(),t.closePath()})},drawRotation:function(){var t=this.context,i=this.points[1].x,e=this.points[1].y,s=this.rotOffset,n=0;this.hyp<=s?(t.lineWidth=1,t.strokeStyle="#000",t.beginPath(),t.arc(i,e,s,0,2*Math.PI),t.stroke(),t.closePath(),this.firstAngle=0,this.secondAngle=0):(this.firstAngle||(this.xDiff>=0?this.firstAngle=-1*this.soh:this.firstAngle=Math.PI+this.soh),this.xDiff>=0&&this.firstAngle?this.secondAngle=-1*this.soh:this.secondAngle=Math.PI+this.soh,t.lineWidth=3,t.strokeStyle="#000",t.beginPath(),n=Math.round((this.secondAngle-this.firstAngle)*(180/Math.PI)),this.firstAngle<this.secondAngle&&n<0?t.arc(i,e,s,this.firstAngle,this.secondAngle):t.arc(i,e,s,this.secondAngle,this.firstAngle),t.stroke(),t.closePath()),this.$eh.$emit("rotater",n),t.fillText(n+"DEG",this.points[1].x+40,this.points[1].y+20),t.lineWidth=1},drawTicks:function(t){var i=0,e=0,s=3,n=0,o=0,r=10,a=0,h=this.context;"x"===t?(e=this.points[1].y,a=Math.abs(this.xDiff),o=s):"y"===t&&(i=this.points[0].x,a=Math.abs(this.yDiff),n=s);for(var l=0;l<=a;l+=r)"x"===t&&(o=this.points[0].y<this.points[1].y?s:-1*s,i=this.points[1].x<this.points[0].x?l+this.points[1].x:l+this.points[0].x),"y"===t&&(n=this.points[1].x<this.points[0].x?s:1-s,e=this.points[1].y<this.points[0].y?l+this.points[1].y:l+this.points[0].y),h.beginPath(),h.moveTo(i,e),h.lineTo(i+n,e+o),h.stroke(),h.closePath()},drawAngles:function(){var t=this.context;this.drawTicks("x"),this.drawTicks("y"),t.strokeStyle="#000",t.beginPath(),t.moveTo(this.points[0].x,this.points[0].y),t.lineTo(this.points[1].x,this.points[1].y),t.lineTo(this.points[0].x,this.points[1].y),t.lineTo(this.points[0].x,this.points[0].y),t.stroke(),t.closePath()}}}),l=h,c=(e("c21a"),e("2877")),u=Object(c["a"])(l,r,a,!1,null,null,null),d=u.exports,f=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"item_container",staticStyle:{position:"relative"}},[e("div",{staticStyle:{position:"fixed"}},[e("button",{on:{click:t.addLayerEvt}},[t._v("Add")]),e("button",{on:{click:t.remLayerEvt}},[t._v("Remove")])]),e("draggable",{staticClass:"list-group",attrs:{list:t.layers,disabled:!t.enabled},on:{update:t.dragEnd,start:function(i){t.dragging=!0},end:function(i){t.dragging=!1}}},t._l(t.reverseList,function(i,s){return e("div",{key:s,ref:"layer_item",refInFor:!0,staticClass:"layer_item",on:{click:function(e){return t.setLayer(i.idx)}}},[i.data?e("img",{staticClass:"layer_preview",attrs:{width:"100",height:"100",src:i.data}}):e("div",{staticStyle:{position:"relative",height:"100px",width:"100px"}}),i.idx===t.currentIdx?e("span",[t._v("_")]):t._e(),i.name?e("span",[t._v(t._s(i.name))]):e("span",[t._v(t._s("layer "+i.idx))])])}),0)],1)},v=[],p=(e("20d6"),e("1980")),m=e.n(p),y={name:"layer",components:{draggable:m.a},data:function(){return{currentIdx:0,totalIdx:0,layers:[],enabled:!0,dragging:!1}},mounted:function(){var t={idx:0,name:"Background",data:null,zPosition:0};this.addLayer(t),this.$eh.$on("imageSet",this.setImage)},computed:{reverseList:function(){return this.layers.slice().reverse()}},methods:{dragEnd:function(t){this.layers.slice().reverse();this.dragging=!1,this.$emit("changeLayer",this.layers)},setLayer:function(t){t!==this.currentIdx&&(this.currentIdx=t)},setImage:function(t){var i=this.layers.findIndex(function(i){return i.idx===t.idx});this.layers[i]&&(this.layers[i].data=t.data)},addLayer:function(t){this.layers.push(t),this.setLayer(t.idx),this.$emit("changeLayer",this.layers),this.totalIdx++},remLayer:function(){var t=this,i=this.layers.findIndex(function(i){return i.idx===t.currentIdx});i>0&&(this.layers.splice(i,1),this.setLayer(this.layers[i-1].idx),this.$emit("changeLayer",this.layers))},remLayerEvt:function(){this.remLayer()},addLayerEvt:function(){this.layers[this.layers.length-1];this.addLayer({idx:this.totalIdx})}}},x=y,g=(e("8c95"),Object(c["a"])(x,f,v,!1,null,null,null)),b=g.exports,w=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[t._l(t.brushes,function(i,s){return e("div",{key:s,staticClass:"brush_btn"},[e("span",{on:{click:function(e){return t.changeBrush(i.id)}}},[t._v(t._s(i.name))])])}),e("span",[t._v("Opacity:")]),e("br"),e("input",{directives:[{name:"model",rawName:"v-model",value:t.brush.opacity,expression:"brush.opacity"}],staticClass:"input",attrs:{min:"0",step:".01",max:"1",type:"number"},domProps:{value:t.brush.opacity},on:{input:function(i){i.target.composing||t.$set(t.brush,"opacity",i.target.value)}}}),e("span",[t._v("Size:")]),e("br"),e("input",{directives:[{name:"model",rawName:"v-model",value:t.brush.size,expression:"brush.size"}],staticClass:"input",attrs:{min:"1",type:"number"},domProps:{value:t.brush.size},on:{input:function(i){i.target.composing||t.$set(t.brush,"size",i.target.value)}}}),e("color")],2)},$=[],_=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("span",[t._v("Red:")]),e("br"),e("input",{directives:[{name:"model",rawName:"v-model",value:t.color.red,expression:"color.red"}],staticClass:"input",attrs:{min:"0",max:"255",type:"number"},domProps:{value:t.color.red},on:{input:function(i){i.target.composing||t.$set(t.color,"red",i.target.value)}}}),e("span",[t._v("Green:")]),e("br"),e("input",{directives:[{name:"model",rawName:"v-model",value:t.color.green,expression:"color.green"}],staticClass:"input",attrs:{min:"0",max:"255",type:"number"},domProps:{value:t.color.green},on:{input:function(i){i.target.composing||t.$set(t.color,"green",i.target.value)}}}),e("span",[t._v("Blue:")]),e("br"),e("input",{directives:[{name:"model",rawName:"v-model",value:t.color.blue,expression:"color.blue"}],staticClass:"input",attrs:{min:"0",max:"255",type:"number"},domProps:{value:t.color.blue},on:{input:function(i){i.target.composing||t.$set(t.color,"blue",i.target.value)}}})])},P=[],k={name:"color",watch:{color:{handler:function(){this.$eh.color=this.color,this.$eh.$emit("colorEvt",this.color)},deep:!0}},data:function(){return{color:{red:0,blue:0,green:0}}}},E=k,M=Object(c["a"])(E,_,P,!1,null,null,null),S=M.exports,C={name:"brush",components:{color:S},mounted:function(){},watch:{brush:{handler:function(){this.$eh.$emit("brushEvt",this.brush)},deep:!0}},data:function(){return{brush:{size:1,opacity:1},brushes:[{name:"brush",id:1},{name:"erase",id:2}]}},methods:{changeBrush:function(t){this.$eh.$emit("brush",t)}}},z=C,L=(e("a63d"),Object(c["a"])(z,w,$,!1,null,null,null)),F=L.exports,O=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{attrs:{id:"actionBar"}},[e("div",{staticClass:"actionBtn",on:{click:t.undo}},[t._v("undo")]),e("div",{staticClass:"actionBtn",on:{click:t.redo}},[t._v("redo")])])},T=[],I={name:"history",data:function(){return{actionIdx:0,lastIdx:0}},mounted:function(){this.$eh.$on("actions",this.actions)},methods:{actions:function(t){this.actionIdx=t.length},undo:function(){this.actionIdx>0&&(this.$eh.$emit("undo"),this.actionIdx--)},redo:function(){this.$eh.$emit("redo"),this.actionIdx++}}},R=I,j=(e("163e"),Object(c["a"])(R,O,T,!1,null,null,null)),D=j.exports,A=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{attrs:{id:"ioMenu"}},[e("div",{on:{click:t.open}},[t._v("Open")]),e("form",{ref:"fileInp",attrs:{action:"#"}}),e("input",{ref:"file",attrs:{id:"file",type:"file"},on:{change:t.fileChange}}),e("div",{on:{click:t.save}},[t._v("Save")])])},N=[],B={name:"io",data:function(){return{file:null}},methods:{open:function(){this.$refs.file.click()},save:function(){this.$emit("saveFile")},fileChange:function(t){this.$emit("openFile",t.target.files[0])}}},H=B,W=(e("a781"),Object(c["a"])(H,A,N,!1,null,null,null)),X=W.exports,Y=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{attrs:{id:"canContainer"}},[t.testing?e("div",{staticStyle:{position:"absolute",bottom:"100px"}},[t._v(t._s(JSON.stringify(t.layerObj)))]):t._e(),e("canvas",{ref:"can",staticStyle:{opacity:"1"}})])},U=[],J=(e("c5f6"),{name:"FSLayer",data:function(){return{ctx:null,can:null,opacity:1,size:{w:5,h:5},testing:!1,method:1,historyPosition:0,stroke:[],strokes:[],strokesTmp:[],color:{red:0,green:0,blue:0}}},props:{width:Number,height:Number,layerObj:Object},mounted:function(){this.can=this.$refs.can,this.can.width=this.width,this.can.height=this.height,this.ctx=this.can.getContext("2d"),this.color=this.$eh.color,this.$eh.$on("mousePos",this.draw),this.$eh.$on("brush",this.brushChange),this.$eh.$on("mouseUp",this.drawDone),this.$eh.$on("brushEvt",this.brushEvt),this.$eh.$on("colorEvt",this.colorEvt),this.$eh.$on("undo",this.undo),this.$eh.$on("redo",this.redo)},methods:{_simpleFill:function(){var t="#FFF";t="rgb("+Math.round(255*Math.random())+","+Math.round(255*Math.random())+","+Math.round(255*Math.random())+")",this.ctx.fillStyle=t,this.ctx.fillRect(0,0,this.width,this.height),this.$eh.$emit("imageSet",{idx:this.layerObj.idx,data:this.can.toDataURL()})},_denseFill:function(){for(var t="#FFF",i=5,e=0;e<this.width/i;e++)for(var s=0;s<this.height/i;s++)t="rgb("+Math.round(255*Math.random())+","+Math.round(255*Math.random())+","+Math.round(255*Math.random())+")",this.ctx.fillStyle=t,this.ctx.fillRect(e*i,s*i,i,i);this.$eh.$emit("imageSet",{idx:this.layerObj.idx,data:this.can.toDataURL()})},colorEvt:function(t){this.color=t},brushEvt:function(t){this.opacity=t.opacity,this.size={w:t.size,h:t.size}},brushChange:function(t){this.method=t},draw:function(t){var i={x:t.x*this.$eh.scale,y:t.y*this.$eh.scale};switch(this.method){case 1:this.brush(i);break;case 2:this.eraser(i);break}this.stroke.push(t)},brush:function(t){var i="rgb("+this.color.red+","+this.color.green+","+this.color.blue+","+this.opacity+")";this.ctx.fillStyle=i,this.ctx.fillRect(t.x,t.y,this.size.w,this.size.h)},undo:function(){this.historyPosition>0&&(this.historyPosition--,this.strokesTmp=this.strokes.slice(),this.strokesTmp.splice(this.historyPosition,this.strokes.length),this.redraw())},redo:function(){this.historyPosition<this.strokes.length&&(this.historyPosition++,this.strokesTmp=this.strokes.slice(),this.strokesTmp.splice(this.historyPosition,this.strokes.length),this.redraw())},eraser:function(t){this.ctx.clearRect(t.x,t.y,this.size.w,this.size.h)},redraw:function(){var t=this;this.clear(),this.strokesTmp.forEach(function(i){t.drawStroke(i)})},clear:function(){this.ctx.clearRect(0,0,this.width,this.height)},drawStroke:function(t){var i=this;t.forEach(function(t){i.brush(t)})},drawDone:function(){this.strokesTmp.length>0&&(this.strokes=this.strokesTmp.slice(),this.historyPosition=this.strokes.length,this.strokesTmp=[]),this.strokes.push(this.stroke),this.historyPosition++,this.stroke=[],this.$eh.$emit("actions",this.strokes),this.$eh.$emit("imageSet",{idx:this.layerObj.idx,data:this.can.toDataURL()})}}}),G=J,q=(e("a897"),Object(c["a"])(G,Y,U,!1,null,null,null)),K=q.exports,Q=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("div",{ref:"capture",attrs:{id:"FSPointer"},on:{pointerdown:t.dnEvt,pointermove:t.mvEvt,pointerup:t.upEvt}})])},V=[],Z={name:"FSMouseCap",data:function(){return{mousePos:null,md:!1,middle:!1,firstPoint:{x:0,y:0}}},mounted:function(){},methods:{dnEvt:function(t){this.mousePos={x:t.clientX,y:t.clientY},this.$eh.$emit("mousePos",this.mousePos),this.md=!0},mvEvt:function(t){this.md&&(this.mousePos={x:t.clientX,y:t.clientY},this.$eh.$emit("mousePos",this.mousePos))},upEvt:function(t){this.md=!1,this.$eh.$emit("mouseUp",this.mousePos)}}},tt=Z,it=(e("05da"),Object(c["a"])(tt,Q,V,!1,null,null,null)),et=it.exports,st={name:"app",components:{FSControl:d,FSLayer:K,FSMouseCap:et,layer:b,brush:F,history:D,io:X},mounted:function(){var t=this;this.canvas_container=this.$refs.can,this.sizeCanvas(),this.centerCanvas(),window.addEventListener("resize",this.resizeEvt),this.$eh.$on("set",function(){t.translate.x2=-1*t.translate.x1,t.translate.y2=-1*t.translate.y1,t.setRotate=t.rotation,t.setScale=t.scale}),this.$eh.$on("translate",function(i){t.translate.x1=i.x-t.translate.x2,t.translate.y1=i.y-t.translate.y2}),this.$eh.$on("rotater",function(i){t.rotation=t.setRotate+i}),this.$eh.$on("scaler",function(i){i>1?t.scale=i+(t.setScale-1):0===i?t.scale=t.setScale:t.scale>.1&&(t.scale=t.setScale-(1-i)),t.$eh.scale=t.scale})},data:function(){return{canvas_container:null,width:0,height:0,scale:1,margin:0,layers:[],translate:{x1:0,y1:0,x2:0,y2:0},setScale:1,visible:{control:!1,layers:!0,brush:!0,io:!1},temp_scale:0,setRotate:0,rotation:0}},methods:{openFile:function(t){var i=new Image,e=this.$refs.inner_can[0].ctx,s=new FileReader;s.readAsDataURL(t),s.addEventListener("load",function(t){i.src=t.target.result}),i.onload=function(t){e.drawImage(i,i.width,i.height)}},saveFile:function(){var t=this.$refs.inner_can[0].can,i=t.toDataURL("image/png").replace("image/png","image/octet-stream");window.location.href=i},resizeEvt:function(){this.centerCanvas(),this.sizeMenus()},sizeMenus:function(){"none"!==this.$refs.left_menu.style.display&&this.sizeLeft(),"none"!==this.$refs.right_menu.style.display&&this.sizeRight()},sizeRight:function(){if(this.visible.layers=!this.visible.layers,"none"!==this.$refs.right_menu.style.display){var t=this.margin,i=window.innerHeight-t,e=this.$refs.right_menu;e.style.top=i/2-e.clientHeight/2+"px"}},sizeLeft:function(){if(this.visible.brush=!this.visible.brush,"none"!==this.$refs.left_menu.style.display){var t=this.margin,i=window.innerHeight-t,e=this.$refs.left_menu;e.style.top=i/2-e.clientHeight/2+"px"}},sizeCanvas:function(){var t=this.canvas_container,i=this.margin,e=window.innerWidth-i,s=window.innerHeight-i;this.width=e,this.height=s,t.style.width=e+"px",t.style.height=s+"px",this.sizeMenus()},centerCanvas:function(){var t=this.canvas_container,i=window.innerWidth/2-t.clientWidth/2,e=window.innerHeight/2-t.clientHeight/2;t.style.left=i+"px",t.style.top=e+"px"},changeLayer:function(t){this.layers=t},center:function(){this.setRotate=0,this.rotation=0,this.scale=1,this.setScale=1,this.translate={x1:0,x2:0,y1:0,y2:0},this.$eh.scale=this.scale}}},nt=st,ot=(e("034f"),Object(c["a"])(nt,n,o,!1,null,null,null)),rt=ot.exports;s["a"].config.productionTip=!1,s["a"].prototype.$eh=new s["a"]({data:function(){return{scale:1,color:{red:0,green:0,blue:0}}}}),new s["a"]({render:function(t){return t(rt)}}).$mount("#app")},"61a4":function(t,i,e){},"64a9":function(t,i,e){},"6e4e":function(t,i,e){},"8c95":function(t,i,e){"use strict";var s=e("6e4e"),n=e.n(s);n.a},"9d65":function(t,i,e){},a63d:function(t,i,e){"use strict";var s=e("44d2"),n=e.n(s);n.a},a781:function(t,i,e){"use strict";var s=e("32af"),n=e.n(s);n.a},a897:function(t,i,e){"use strict";var s=e("61a4"),n=e.n(s);n.a},c21a:function(t,i,e){"use strict";var s=e("1786"),n=e.n(s);n.a},ef5f:function(t,i,e){}});
//# sourceMappingURL=app.a3367cce.js.map